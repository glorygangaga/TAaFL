# История изменений
## [0.6.1] - 2025-11-26

### Изменено
- **Грамматика ввода-вывода**: `input` и `print` перемещены с уровня выражений на уровень инструкций, теперь они `input_statement` и `print_statement`
- **Упрощение грамматики**: удалены `input_expr` и `print_expr` из грамматики выражений

## [0.5.1] - 2025-11-20

### Добавлено
- **Отдельный документ с семантическими правилами** (`semantic.md`) с подробным описанием правил типизации, областей видимости, функций, структур, управления потоком, ввода-вывода, констант и переменных, разрешения имен и порядка вычислений

### Уточнено
- **Лексическая структура**: ключевые слова теперь регистронезависимые (были регистрозависимые)
- **Структура программы**: все объявления (переменных, функций, структур) должны находиться до функции `main` (ранее допускалось и после)
- **Форматирование примеров кода**: улучшена читаемость объявлений структур и функций

### Определено
- **Полная система семантических правил**:
  - **Правила типизации**: статическая проверка типов, совместимость операторов
  - **Правила областей видимости**: иерархия областей, время жизни переменных
  - **Правила функций**: объявление, вызов, рекурсия, возвращаемые значения
  - **Правила структур**: уникальность полей, доступ через оператор `.`
  - **Правила управления потоком**: if-elif-else, switch, циклы
  - **Правила ввода-вывода**: преобразование типов в `print`
  - **Правила констант и переменных**: инициализация, неизменяемость констант
  - **Правила разрешения имен**: порядок поиска идентификаторов
  - **Правила порядка вычислений**: вычисление аргументов, short-circuit evaluation

## [0.5.0] - 2025-11-17

### Добавлено
- **Расширенные управляющие конструкции**: `switch`, `break`, `continue`, `elif`
- **Тернарный оператор** `? :` с правой ассоциативностью и приоритетом между логическими операторами и присваиванием
- **Полный набор примеров программ** для лабораторных работ 4 и 5:
  - Factorial (рекурсивный и итеративный варианты)
  - Fibonacci (рекурсивная реализация)
  - QuadraticEquation (с определением количества корней и вложенными условиями)

### Реализовано
- **Усовершенствованная грамматика выражений** с поддержкой тернарного оператора
- **Расширенная система ключевых слов** с добавлением `elif`, `switch`, `case`, `default`, `break`, `continue`
- **Поддержка вложенных условий** и сложных управляющих структур
- **Рекурсивные функции** с взаимными вызовами

### Исправлено
- **Грамматика циклов**: исправлен синтаксис for-цикла (постфиксный инкремент вместо префиксного)
- **Система типов**: добавлены возвращаемые типы для функций в примерах
- **Семантика выражений**: уточнены правила для ввода-вывода как выражений

### Уточнено
- **Приоритет операторов**: тернарный оператор добавлен в таблицу приоритетов (уровень 11)
- **Структура EBNF**: проведен рефакторинг грамматики для лучшей организации
- **Встроенные функции**: input и print могут использоваться как выражения

### Особенности реализации
- **Поддержка взаимной рекурсии** функций
- **Блочная область видимости** для всех управляющих конструкций
- **Полная совместимость** с рекурсивным нисходящим парсером

### Примеры программ
- **Factorial**: демонстрирует цикл for и пользовательские функции
- **Fibonacci**: показывает рекурсию и простые условия
- **QuadraticEquation**: использует вложенные условия, вызовы функций и сложные выражения

---

## [0.4.0] - 2025-11-16

### Добавлено
- **Полная EBNF грамматика** языка в отдельном файле `ebnf-grammar.md`
- **Поддержка ветвлений и циклов** с уточненной грамматикой
- **Пользовательские функции** с параметрами и возвращаемыми значениями
- **Семантические правила** для областей видимости и управления потоком
- **Ввод-вывод как выражения** через `input()` и `print()`

### Реализовано
- **Управляющие конструкции**: `if-else`, `while`, `for` с полной грамматикой
- **Объявления функций** с типизированными параметрами и возвращаемыми типами
- **Система областей видимости** с блочной структурой
- **Полная иерархия выражений** с исправленной грамматикой операторов

### Исправлено
- **Грамматика выражений**: переработана иерархия операторов для устранения неоднозначностей
- **Префиксные операторы**: исправлена грамматика для `++`, `--`, `+`, `-`, `not`
- **Постфиксные операторы**: уточнена грамматика вызовов функций и доступа к полям
- **Цикл for**: исправлена грамматика инициализации и обновления

### Определено
- **Структура программы**: обязательная функция `main` как точка входа
- **Семантика областей видимости**: глобальная и локальные области
- **Правила типизации**: строгая проверка типов для функций и переменных
- **Управление потоком**: правила для `return` и последовательного выполнения

### Особенности
- Грамматика оптимизирована для рекурсивного нисходящего парсера
- Поддержка взаимной рекурсии функций
- Четкое разделение между выражениями и инструкциями
- Полная основа для реализации интерпретатора или компилятора

### Расширенные возможности
- **Логические операторы**: `and`, `or`, `not` с поддержкой short-circuit evaluation
- **Поддержка null**: добавлен литерал `null` для представления отсутствия значения
- **Вложенные структуры**: поддержка литералов структур и массивов
- **Полный набор операторов**: арифметические, сравнения, логические, присваивания

---

## [0.3.0] - 2025-11-12

### Добавлено
- **Грамматика верхнего уровня** с поддержкой структуры программы и инструкций
- **Семантические правила** для объявлений переменных, функций и структур
- **Примеры программ** на языке: SumNumbers, CircleSquare, QuadraticEquation
- **Поддержка точки входа** через обязательную функцию `main:void()`

### Реализовано
- **Структура программы**: глобальные объявления + функция main + глобальные объявления
- **Объявления переменных и констант** с явной типизацией через `let` и `const`
- **Объявления функций** с параметрами и возвращаемыми типами
- **Объявления структур** с полями
- **Система ввода-вывода** через встроенные функции `input()` и `print()`

### Определено
- **Семантика областей видимости**: блочная область видимости для переменных
- **Правила типизации**: строгая статическая типизация с проверкой совместимости
- **Правила присваивания**: левая часть должна быть присваиваемым выражением
- **Обработка констант**: запрет на изменение `const` переменных

### Примеры программ
- **SumNumbers**: сложение двух чисел с использованием ввода-вывода
- **CircleSquare**: вычисление площади круга с использованием константы Pi
- **QuadraticEquation**: решение квадратного уравнения с арифметическими операциями

### Особенности
- Язык теперь поддерживает полный цикл разработки от объявлений до выполнения
- Грамматика совместима с рекурсивным нисходящим парсером
- Семантические правила обеспечивают безопасность типов во время компиляции
- Примеры демонстрируют основные возможности языка в ограниченном подмножестве

---

## [0.2.4] - 2025-10-22

### Добавлено
- **Предварительная грамматика инструкций** языка программирования (базовый каркас)
- **Примерные конструкции** для объявлений переменных, функций и структур
- **Эскиз управляющих конструкций**: `if-else`, `while`, `for` циклы
- **Концепция блоков кода** и области видимости
- **Наброски литералов** массивов и структур

### Изменено
- **Реструктуризация грамматики выражений** для лучшей читаемости
- **Разделение выражений и инструкций** в разные грамматические категории
- **Уточнение постфиксных операторов** и их приоритета

### Определено
- **Базовый каркас системы типов** для дальнейшего развития
- **Концептуальные параметры функций** с типизацией
- **Предварительная структура** для инициализации полей и массивов

### Примечание
- Грамматика инструкций представлена в **предварительном виде** и служит основой для будущих разработок
- Грамматика выражений является **стабильной и завершенной**
- Конструкции управления потоком и объявления будут **уточняться и расширяться** в следующих версиях
- Текущая реализация фокусируется на **выражениях** как наиболее критичном компоненте языка

---

## [0.2.3] - 2025-10-19

### Исправлено
- **Конфликт лексем**: Изменен синтаксис однострочных комментариев с `//` на `///`
- **Разрешение неоднозначности**: Устранен конфликт между оператором целочисленного деления `//` и комментариями

### Обновлено
- Все примеры кода в документации обновлены на новый синтаксис комментариев
- Описания разделителей и скобок приведены к единому стилю с тройными слешами
- Примеры строковых литералов с escape-последовательностями используют новый стиль комментариев

### Обоснование
- Предотвращение конфликтов парсера между оператором `//` и комментариями
- Улучшение читаемости и однозначности лексического анализа
- Сохранение оператора `//` для целочисленного деления без изменений

---

## [0.2.2] - 2025-10-17

### Удалено
- Ключевое слово `import` из списка ключевых слов
- Полностью удалена поддержка импорта модулей из языка

### Обоснование
- Упрощение языка на ранних этапах разработки
- Фокусировка на базовых конструкциях перед реализацией модульной системы
- Устранение неиспользуемой функциональности из спецификации
  
---

## [0.2.1] - 2025-10-16

### Исправлено
- **Лексическая структура**:
  - Уточнена регистрозависимость ключевых слов (с регистронезависимых на регистрозависимые)
  - Добавлено описание типа `void` и ограничений его использования
  - Уточнены правила обработки пробелов, табуляций и переводов строк
  - Исправлены правила для числовых литералов (десятичная система, унарный минус)
  - Уточнены правила строковых литералов (запрет переносов без `\n`, отсутствие символьных литералов)
  - Добавлены операторы `//`, `++`, `--` в перечень арифметических операторов
  - Обновлены примеры форматирования условий и циклов

- **Грамматика выражений**:
  - Удален оператор `^` для возведения в степень (оставлен только `**`)
  - Переработана структура EBNF грамматики для устранения неоднозначностей
  - Уточнены приоритеты операторов (`not` перемещен на уровень унарных операторов)
  - Исправлена структура постфиксных выражений и вызовов функций
  - Упрощено описание первичных выражений

### Уточнено
- **Синтаксические правила**:
  - Четкое разделение между литералами и константами
  - Правила обработки escape-последовательностей в строках
  - Требования к форматированию условий и циклов
  - Семантика унарных операторов и операторов присваивания

### Удалено
- Пример импорта `import std;` из демонстрационного кода
- Оператор `^` из системы возведения в степень
- Избыточные конструкции из грамматики выражений

---

## [0.2.0] - 2025-10-15

### Добавлено
- Полная грамматика выражений языка в нотации EBNF
- Система приоритетов и ассоциативности операторов
- Поддержка унарных и бинарных операторов
- Операторы инкремента (`++`) и декремента (`--`)
- Возведение в степень через операторы `**` и `^`
- Целочисленное деление (`//`) и остаток от деления (`%`)

### Реализовано
- **Арифметические операторы**: `+`, `-`, `*`, `/`, `//`, `%`, `**`, `^`
- **Операторы сравнения**: `==`, `!=`, `<`, `>`, `<=`, `>=`
- **Логические операторы**: `and`, `or`, `not`
- **Присваивание**: `=` с правой ассоциативностью
- **Доступ к полям и индексация**: `.`, `[]`

### Встроенные функции
- **Математические**: `abs(x)`, `min(a, b, ...)`, `max(a, b, ...)`, `pow(a, b)`
- **Округление**: `round(x)`, `ceil(x)`, `floor(x)`
- **Числовые константы**: `Pi`, `Euler`

### Определено
- **Приоритет операторов** (от высшего к низшему):
  1. Группировка `()`, индексация `[]`, доступ к полям `.`
  2. Постфиксные `++`, `--`
  3. Префиксные `++`, `--`, `+`, `-`, `not`
  4. Возведение в степень `**`, `^`
  5. Мультипликативные `*`, `/`, `%`, `//`
  6. Аддитивные `+`, `-`
  7. Сравнения `<`, `>`, `<=`, `>=`
  8. Равенства `==`, `!=`
  9. Логическое И `and`
  10. Логическое ИЛИ `or`
  11. Присваивание `=`

### Особенности грамматики
- Отсутствие левой рекурсии и левой факторизации
- Поддержка вложенных функциональных вызовов
- Правая ассоциативность для присваивания и возведения в степень
- Левая ассоциативность для большинства бинарных операторов
- Полная совместимость с рекурсивным нисходящим парсером

---

## [0.1] - 2025-10-13

### Добавлено
- Спецификация лексической структуры языка программирования
- Определение ключевых слов и их назначения
- Правила формирования идентификаторов
- Синтаксис литералов чисел и строк
- Система операторов и их категоризация
- Правила для разделителей и скобок
- Синтаксис комментариев (однострочных и многострочных)
- Описание системы строгой статической типизации

### Определено
- **Ключевые слова**: `let`, `const`, `print`, `input`, `func`, `return`, `struct`, `import`, `true`, `false`
- **Типы данных**: `str`, `int`, `float`, `bool`
- **Операторы управления**: `if`, `else`, `for`, `while`
- **Арифметические операторы**: `+`, `-`, `*`, `/`, `%`, `**`
- **Операторы сравнения**: `==`, `!=`, `<`, `>`, `<=`, `>=`
- **Логические операторы**: `and`, `or`, `not`
- **Специальные операторы**: `:`, `.`

### Установлено
- Правила именования идентификаторов (регистрозависимые, начинаются с буквы или `_`)
- Форматы числовых литералов (целые и вещественные числа)
- Строковые литералы с поддержкой escape-последовательностей
- Обязательное использование точек с запятой как разделителей инструкций
- Единообразная система скобок для блоков, массивов и группировки

### Особенности
- Строгая статическая типизация с явным указанием типов
- Запрет неявных преобразований между типами
- Обязательное указание возвращаемых типов функций
- Поддержка импорта модулей через ключевое слово `import`
